<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/css/datepicker.min.css">

    <link rel="stylesheet" th:href="@{/css/style.css?v=0.8}">
    <link rel="shortcut icon" type="image/png" href="img/favicon.png">

    <title layout:title-pattern="$CONTENT_TITLE - $LAYOUT_TITLE">EMTHI</title>
</head>
<body>
<header class="header">
    <section>
        <img th:src="@{/img/logo/logo.png}">
        <search>
            <img th:src="@{/img/icons/lens.svg}">
            <input type="text" placeholder="Chercher un patient">
        </search>

        <div>
            <a href="#" id="logoutLink">
                <span>Log out</span>
                <img th:src="@{/img/icons/log-out.svg}" >
            </a>
        </div>
    </section>
</header>
<aside class="sidebar">
    <section>
        <button type="button">
            <img th:src="@{/img/icons/nav.svg}">
        </button>
        <nav>
            <ul>
                <li>
                    <div th:classappend="${activePage == 'dashboard' ? 'active' : ''}">
                        <a th:href="@{/}">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M14.9567 10.9243H21.9386C23.3094 10.9243 24 10.0899 24 8.36952V2.54195C24 0.820988 23.3094 0 21.9386 0H14.9567C13.586 0 12.8953 0.820988 12.8953 2.54195V8.36952C12.8953 10.0899 13.586 10.9243 14.9567 10.9243ZM2.06089 10.9243H9.04288C10.4136 10.9243 11.1042 10.0899 11.1042 8.36952V2.54195C11.1042 0.820988 10.4136 0 9.04288 0H2.06089C0.690647 0 0 0.820988 0 2.54195V8.36952C0 10.0899 0.690647 10.9243 2.06089 10.9243ZM2.06089 24H9.04288C10.4136 24 11.1042 23.179 11.1042 21.4581V15.6177C11.1042 13.9101 10.4136 13.0757 9.04288 13.0757H2.06089C0.690647 13.0757 0 13.9101 0 15.6177V21.4581C0 23.179 0.690647 24 2.06089 24ZM14.9567 24H21.9386C23.3094 24 24 23.179 24 21.4581V15.6177C24 13.9101 23.3094 13.0757 21.9386 13.0757H14.9567C13.586 13.0757 12.8953 13.9101 12.8953 15.6177V21.4581C12.8953 23.179 13.586 24 14.9567 24Z"/>
                            </svg>
                        </a>
                        <span>&nbsp;</span>
                    </div>
                </li>
                <li>
                    <div th:classappend="${activePage == 'patients' ? 'active' : ''}">
                        <a th:href="@{/patients}">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 10.5C10.9391 10.5 9.92172 10.1049 9.17157 9.40165C8.42143 8.69839 8 7.74456 8 6.75C8 5.75544 8.42143 4.80161 9.17157 4.09835C9.92172 3.39509 10.9391 3 12 3C13.0609 3 14.0783 3.39509 14.8284 4.09835C15.5786 4.80161 16 5.75544 16 6.75C16 7.74456 15.5786 8.69839 14.8284 9.40165C14.0783 10.1049 13.0609 10.5 12 10.5Z"/>
                                <path d="M21.6 18C21.152 18 20.8 17.6333 20.8 17.1667C20.8 16.7 21.152 16.3333 21.6 16.3333C22.048 16.3333 22.4 15.9667 22.4 15.5C22.4 14.3949 21.9786 13.3351 21.2284 12.5537C20.4783 11.7723 19.4609 11.3333 18.4 11.3333H16.8C16.352 11.3333 16 10.9667 16 10.5C16 10.0333 16.352 9.66667 16.8 9.66667C18.128 9.66667 19.2 8.55 19.2 7.16667C19.2 5.78333 18.128 4.66667 16.8 4.66667C16.352 4.66667 16 4.3 16 3.83333C16 3.36667 16.352 3 16.8 3C17.8609 3 18.8783 3.43899 19.6284 4.22039C20.3786 5.00179 20.8 6.0616 20.8 7.16667C20.8 8.2 20.448 9.13333 19.84 9.86667C22.224 10.5333 24 12.8 24 15.5C24 16.8833 22.928 18 21.6 18ZM2.4 18C1.072 18 0 16.8833 0 15.5C0 12.8 1.76 10.5333 4.16 9.86667C3.568 9.13333 3.2 8.2 3.2 7.16667C3.2 6.0616 3.62143 5.00179 4.37157 4.22039C5.12172 3.43899 6.13913 3 7.2 3C7.648 3 8 3.36667 8 3.83333C8 4.3 7.648 4.66667 7.2 4.66667C5.872 4.66667 4.8 5.78333 4.8 7.16667C4.8 8.55 5.872 9.66667 7.2 9.66667C7.648 9.66667 8 10.0333 8 10.5C8 10.9667 7.648 11.3333 7.2 11.3333H5.6C4.53913 11.3333 3.52172 11.7723 2.77157 12.5537C2.02143 13.3351 1.6 14.3949 1.6 15.5C1.6 15.9667 1.952 16.3333 2.4 16.3333C2.848 16.3333 3.2 16.7 3.2 17.1667C3.2 17.6333 2.848 18 2.4 18ZM16.8 23H7.2C5.872 23 4.8 21.8833 4.8 20.5V18.8333C4.8 15.6167 7.312 13 10.4 13H13.6C16.688 13 19.2 15.6167 19.2 18.8333V20.5C19.2 21.8833 18.128 23 16.8 23Z"/>
                            </svg>
                        </a>
                        <span>&nbsp;</span>
                    </div>
                </li>
                <li>
                    <div th:classappend="${activePage == 'caisse' ? 'active' : ''}">
                        <a th:href="@{/caisse}">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M12.0261 0C8.86141 0 5.97834 0.99475 4.27232 1.80748C4.11818 1.88082 3.97455 1.95283 3.84073 2.02217C3.57589 2.15951 3.35029 2.28752 3.17093 2.4002L5.11166 5.11909L6.02528 5.46512C9.59567 7.17926 14.3837 7.17926 17.9548 5.46512L18.9918 4.95308L20.8267 2.4002C20.4466 2.16422 20.0514 1.95112 19.6433 1.76215C17.9457 0.95808 15.1313 0 12.0268 0H12.0261ZM7.51271 3.07759C6.82547 2.95522 6.14671 2.79313 5.48019 2.59222C7.07832 1.91683 9.45974 1.2001 12.0261 1.2001C13.8036 1.2001 15.4844 1.54413 16.8745 1.98017C15.2455 2.19818 13.5073 2.56821 11.851 3.02359C10.5478 3.38228 9.02466 3.34361 7.51271 3.07759ZM18.6947 6.45387L18.5223 6.53654C14.5946 8.42203 9.38478 8.42203 5.45707 6.53654L5.29383 6.45787C-0.60684 12.6191 -5.11186 24 12.0261 24C29.1641 24 24.5491 12.4077 18.6947 6.45387ZM11.2982 12.001C10.9266 12.001 10.5701 12.1415 10.3074 12.3916C10.0446 12.6416 9.89694 12.9808 9.89694 13.3344C9.89694 13.6881 10.0446 14.0273 10.3074 14.2773C10.5701 14.5274 10.9266 14.6679 11.2982 14.6679V12.001ZM12.6994 10.6676V10.0008H11.2982V10.6676C10.5549 10.6676 9.84209 10.9485 9.31652 11.4487C8.79095 11.9488 8.49568 12.6271 8.49568 13.3344C8.49568 14.0417 8.79095 14.7201 9.31652 15.2202C9.84209 15.7204 10.5549 16.0013 11.2982 16.0013V18.6682C10.6886 18.6682 10.1695 18.2982 9.97611 17.7795C9.94742 17.6946 9.90113 17.6161 9.84 17.5485C9.77886 17.481 9.70411 17.4258 9.62016 17.3862C9.53622 17.3467 9.44479 17.3235 9.35127 17.3181C9.25776 17.3128 9.16407 17.3253 9.07574 17.355C8.98741 17.3847 8.90624 17.431 8.83702 17.4911C8.76781 17.5511 8.71195 17.6238 8.67276 17.7048C8.63358 17.7857 8.61185 17.8734 8.60887 17.9625C8.6059 18.0516 8.62173 18.1403 8.65543 18.2235C8.84869 18.7435 9.2066 19.1938 9.67988 19.5122C10.1532 19.8307 10.7185 20.0017 11.2982 20.0017V20.6684H12.6994V20.0017C13.4427 20.0017 14.1555 19.7207 14.6811 19.2206C15.2067 18.7204 15.5019 18.0421 15.5019 17.3348C15.5019 16.6275 15.2067 15.9491 14.6811 15.449C14.1555 14.9489 13.4427 14.6679 12.6994 14.6679V12.001C13.309 12.001 13.8281 12.371 14.0215 12.8897C14.0502 12.9746 14.0965 13.0531 14.1576 13.1207C14.2188 13.1882 14.2935 13.2434 14.3775 13.283C14.4614 13.3226 14.5528 13.3457 14.6463 13.3511C14.7399 13.3564 14.8335 13.3439 14.9219 13.3142C15.0102 13.2845 15.0914 13.2382 15.1606 13.1782C15.2298 13.1181 15.2857 13.0454 15.3249 12.9645C15.364 12.8835 15.3858 12.7959 15.3887 12.7067C15.3917 12.6176 15.3759 12.5289 15.3422 12.4457C15.1489 11.9257 14.791 11.4754 14.3177 11.157C13.8445 10.8386 13.2791 10.6676 12.6994 10.6676ZM12.6994 16.0013V18.6682C13.0711 18.6682 13.4275 18.5277 13.6903 18.2777C13.9531 18.0276 14.1007 17.6884 14.1007 17.3348C14.1007 16.9811 13.9531 16.642 13.6903 16.3919C13.4275 16.1418 13.0711 16.0013 12.6994 16.0013Z"/>
                            </svg>
                        </a>
                        <span>&nbsp;</span>
                    </div>
                </li>
            </ul>
        </nav>

        <div>
            <a href="/">
                <img th:src="@{/img/users/user-3.jpeg}">
            </a>
        </div>
    </section>
</aside>

<main layout:fragment="content" class="content">

</main>
<script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/js/datepicker.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    document.getElementById('logoutLink').addEventListener('click', function(event) {
        event.preventDefault();

        fetch('/logout', {
            method: 'POST'
        }).then(function(response) {
            if (response.redirected) {
                window.location.href = response.url;
            }
        }).catch(function(error) {
            console.error('Erreur lors de la d√©connexion:', error);
        });
    });
</script>
</body>
</html>